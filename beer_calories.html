<!DOCTYPE html>
<html>
	<link REL='SHORTCUT ICON' HREF='favicon.ico'>
	<title>Pattern Transfer - Beer Calories</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<head>
		<link href="style.css" rel="stylesheet" type="text/css" media="all" />
		<meta name="description" content="Pattern Transfer - Excel automation">
		<meta name="keywords" content="Excel, data, copy, paste, automation, Pattern Transfer, customisable">
		<meta name="author" content="Dave Jones">
	</head>
	<script>
	function isNumber(value) {
		return !isNaN(value) && value.trim() !== '';
	}
	function isFraction(value) {
		var fractionPattern = /^\d+\/\d+$/;
		return fractionPattern.test(value);
	}
	function guessUnitOfMeasurement() { 
		if(document.getElementById("volume").value!="") {
			var volumeData = document.getElementById("volume").value
			if (isNumber(volumeData)) {
				if (volumeData <= 5) {
					document.getElementById("unit_of_volume").value = "pt";
				} else if (volumeData >5 && volumeData < 100) {
					document.getElementById("unit_of_volume").value = "floz";
				} else if (volumeData => 100) {
					document.getElementById("unit_of_volume").value = "ml";
				}
			} else if (isFraction(volumeData)) {
				document.getElementById("unit_of_volume").value = "pt";
			}
		} else {
			document.getElementById("calories_result").innerHTML = 0
		};
		calculateCalories()
	}
	function calculateCalories() {
		var volumeData = document.getElementById("volume").value
		var unitVol = document.getElementById("unit_of_volume").value
		var pcData = document.getElementById("percentage").value
		if (volumeData != "") {
			if (unitVol != "") {
				if (pcData != "") {
					if (isNumber(volumeData)) {
						if (unitVol=="ml") {
							document.getElementById("calories_result").innerHTML = Math.round(parseFloat(volumeData) * parseFloat(pcData) * 0.084535)
						} else if (unitVol=="pt") {
							document.getElementById("calories_result").innerHTML = Math.round(parseFloat(volumeData) * parseFloat(pcData) * 0.084535 * 568)
						} else if (unitVol=="floz") {
							document.getElementById("calories_result").innerHTML = Math.round(parseFloat(volumeData) * parseFloat(pcData) * 0.084535 * 29.5735)
						}
					} else if (isFraction(volumeData)) {
						document.getElementById("calories_result").innerHTML = Math.round(parseFloat(eval(volumeData)) * parseFloat(pcData) * 0.084535 * 568)
					}
				} else {
					document.getElementById("calories_result").innerHTML = 0
				}
			}
		}
	}
	
	</script>
	<body class="grey">
		<div id="header">
			<div id="headerCentre">
				<p>
					<b>Pattern Transfer</b> by Dave Jones<br /><i><font style="color:darkred;font-size:22px;">Excel copy-paste automation made easy!</font></i>
				</p>
				<div id="copyright">Copyright &#169;<script>document.write(new Date().getFullYear())</script> Dave Jones</div>
				<div id="tabsContainer">
					<a href="index.html" class="tabs"><div id="bloc1">Introduction</div></a>
					<a href="guidance.html" class="tabs"><div id="bloc2">Guidance</div></a>
					<a href="about.html" class="tabs"><div id="bloc3">About</div></a>
					<a href="testimonials.html" class="tabs"><div id="bloc4">Testimonials</div></a>
					<a href="beer_calories.html" class="tabs"><div id="bloc5">Beer Calories</div></a>
				</div>

			</div>
		</div>
		<div id="content">
			<p>
				<br />
				A normal beer calorie calculator.
				
				<form method="post" name="beer_calorie_calc" action="contactform.php">		
				
					<table border=0>
						<!--
						<tr>
							<td width="90px">Your Name</td>
							<td><input type="text" name="name" size="20" title="Your name" aria-required="true" required="required"></td>
						</tr>
						-->
						<tr>
							<td width="80px">Volume:</td>
							<td>
								<input 
									aria-required="true"
									id="volume"
									name="volume"
									required="required"
									size="7"
									title="volume"
									value=""
									onchange="guessUnitOfMeasurement()">
							</td>
							<td width="10px"></td>
							<td>Unit of Volume</td>
							<td>
								<select id="unit_of_volume" name="unit_of_volume" title="Unit of Volume" onchange="calculateCalories()" required>
									<option value="">-</option>
									<option value="ml">millilitres</option>
									<option value="pt">pints</option>
									<option value="floz">fluid ounces</option>
								</select>
							</td>
						</tr>
						<tr>
							<td>ABV %:</td>
							<td>
								<input 
									aria-required="true"
									id="percentage"
									name="percentage"
									required="required"
									size="7"
									title="percentage"
									value=""
									onchange="calculateCalories()">
							</td>
						</tr>
						<tr>
							<td>Calories:</td>
							<td>
								<span id="calories_result"></span>
							</td>
						</tr>
							
						<!--
						<tr>
							<td><input type="submit" value="Submit"></td>
						</tr>
						-->
					</table>
				</form>

			<br /><br />
		</div>
	</body>
</html>